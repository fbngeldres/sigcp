<!DOCTYPE struts PUBLIC 
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>

	<constant name="struts.enable.DynamicMethodInvocation" value="true" />
	<constant name="struts.devMode" value="true" />
	<constant name="struts.custom.i18n.resources" value="resources" />
	<constant name="struts.multipart.maxSize" value="1000000" />
	<constant name="struts.multipart.saveDir" value="/tmp" />

	<!-- Include webwork default (from the Struts JAR). -->

	<include file="struts-default.xml" />


	<!-- Seguridad del sistema -->
	<package name="pe.com.pacasmayo.sgcp.presentacion.action"
		extends="struts-default">

		<interceptors>
			<interceptor name="autenticacion"
				class="pe.com.pacasmayo.sgcp.presentacion.interceptors.AutenticacionInterceptor" />

			<interceptor-stack name="defaultLoginStack">
				<interceptor-ref name="servlet-config" />
				<interceptor-ref name="params" />
				<interceptor-ref name="validation">
					<param name="excludeMethods">
						input,back,cancel,browse,init, load
					</param>
				</interceptor-ref>
				<interceptor-ref name="autenticacion" />
				<!-- Nuestro LoginInterceptor -->
				<interceptor-ref name="prepare" />
				<interceptor-ref name="chain" />
				<interceptor-ref name="model-driven" />
				<interceptor-ref name="fileUpload" />
				<interceptor-ref name="static-params" />
				<interceptor-ref name="params" />
				<interceptor-ref name="conversionError" />
				<interceptor-ref name="workflow" />
			</interceptor-stack>

		</interceptors>

		<default-interceptor-ref name="defaultLoginStack" />
		<default-action-ref name="iniciarSesion" />
		<!-- Manejo de acciones globales. -->
		<global-results>
			<result name="_login">/inicio.jsp</result>
			<result name="error">/comun/errorOperacion.jsp</result>
		</global-results>

		<!-- Manejo de excepciones globales. -->
		<global-exception-mappings>
			<exception-mapping
				exception="pe.com.pacasmayo.sgcp.presentacion.excepciones.AplicacionGlobalException"
				result="error" />
			<exception-mapping exception="java.lang.Exception"
				result="error" />
			<exception-mapping exception="java.io.IOException"
				result="error" />
			<exception-mapping exception="java.lang.RuntimeException"
				result="error" />
		</global-exception-mappings>

		<!-- ************************ INICIO SEGURIDAD SISTEMA *************** -->

		<action name="enConstruccion">
			<result>/comun/enConstruccion.jsp</result>
		</action>

		<action name="salirDeSesion"
			class="pe.com.pacasmayo.sgcp.presentacion.action.seguridad.CerrarSesionAction"
			method="salirSesion">
			<result>/seguridad/cerrarSesion.jsp</result>
		</action>

		<action name="iniciarSesion"
			class="pe.com.pacasmayo.sgcp.presentacion.action.seguridad.IniciarSesionAction"
			method="iniciarSesion">
			<result name="error">/inicio.jsp</result>
			<result name="success" type="redirect-action">
				seguridad/principal
			</result>
			<result name="input">/inicio.jsp</result>
		</action>

		<action name="principal"
			class="pe.com.pacasmayo.sgcp.presentacion.action.seguridad.PrincipalAction">
			<result>/seguridad/principal.jsp</result>
		</action>

		<action name="cerrarSesion"
			class="pe.com.pacasmayo.sgcp.presentacion.action.seguridad.CerrarSesionAction"
			method="cerrarSesion">
			<result name="success">/inicio.jsp</result>
			<result name="input">/inicio.jsp</result>
			<result name="error">/comun/errorOperacion.jsp</result>
		</action>

	</package>
	<!--************************ FINAL SEGURIDAD SISTEMA ***************************** -->




	<package name="notificacion" namespace="/notificacion" extends="struts-default">
		<interceptors>
			<interceptor name="AutenticacionInterceptor"
				class="pe.com.pacasmayo.sgcp.presentacion.interceptors.AutenticacionInterceptor">
			</interceptor>
			<interceptor-stack name="all-default">
				<interceptor-ref name="AutenticacionInterceptor" />
				<interceptor-ref name="paramsPrepareParamsStack" />
				<interceptor-ref name="params" />
				<interceptor-ref name="validation" />
			</interceptor-stack>
		</interceptors>

		<!-- Default interceptor stack. -->
		<default-interceptor-ref name="all-default" />

		<!-- Manejo de acciones globales. -->
		<global-results>
			<result name="error">/comun/errorOperacion.jsp</result>
			<result name="login" type="redirect">/inicio.jsp</result>
		</global-results>

		<!-- Manejo de excepciones globales. -->
		<global-exception-mappings>
			<exception-mapping
				exception="pe.com.pacasmayo.sgcp.presentacion.excepciones.AplicacionGlobalException"
				result="error" />
			<exception-mapping exception="java.lang.Exception"
				result="error" />
			<exception-mapping exception="java.lang.RuntimeException"
				result="error" />
		</global-exception-mappings>

		<action name="listarNotificacionPlanta"
			class="pe.com.pacasmayo.sgcp.presentacion.action.notificacion.NotificacionPlantaAction"
			method="listarNotificacionPlanta">
			<result name="success">
				/notificacion/listarNotificacionPlanta.jsp
			</result>
			<interceptor-ref name="basicStack" />
		</action>

		<action name="cargarProduccionEnvasadoNotificacion"
			class="pe.com.pacasmayo.sgcp.presentacion.action.notificacion.NotificacionPlantaAction"
			method="cargarProduccionEnvasadoNotificacion">
			<result name="success" type="redirectAction">
				listarNotificacionPlanta
			</result>
			<interceptor-ref name="basicStack" />
		</action>

		<action name="nuevaNotificacionProduccionPlanta"
			class="pe.com.pacasmayo.sgcp.presentacion.action.notificacion.NotificacionPlantaAction"
			method="iniciarDatosNotificarProduccion">
			<result name="success">
				/notificacion/nuevaNotificacionProduccionPlanta.jsp
			</result>
			<interceptor-ref name="basicStack" />
		</action>
		<action name="registrarNotificacion"
			class="pe.com.pacasmayo.sgcp.presentacion.action.notificacion.NotificacionPlantaAction"
			method="registrarNotificacion">
			<result name="success">
				/notificacion/registrarNotificacion.jsp
			</result>
			<interceptor-ref name="basicStack" />
		</action>
		<action name="cargarNotificacionPlanta"
			class="pe.com.pacasmayo.sgcp.presentacion.action.notificacion.NotificacionPlantaAction"
			method="listarNotificacionPlantaFiltrados">
			<result name="success">
				/notificacion/listarNotificacionPlanta.jsp
			</result>
			<interceptor-ref name="chain" />
			<interceptor-ref name="basicStack" />
		</action>

		<action name="aprobarNotificacionPlanta"
			class="pe.com.pacasmayo.sgcp.presentacion.action.notificacion.NotificacionPlantaAction"
			method="aprobar">
			<result name="success" type="redirectAction">
				listarNotificacionPlanta
			</result>
			<interceptor-ref name="chain" />
			<interceptor-ref name="basicStack" />
		</action>

		<action name="cargarSociedades"
			class="pe.com.pacasmayo.sgcp.presentacion.action.notificacion.NotificacionPlantaAction"
			method="cargarSociedades">
			<result>/notificacion/ajax/comboSociedades.jsp</result>
		</action>
		<action name="cargarUnidades"
			class="pe.com.pacasmayo.sgcp.presentacion.action.notificacion.NotificacionPlantaAction"
			method="cargarUnidades">
			<result name="success">
				/notificacion/ajax/comboUnidades.jsp
			</result>
		</action>
		<action name="cargarLineasNegocio"
			class="pe.com.pacasmayo.sgcp.presentacion.action.notificacion.NotificacionPlantaAction"
			method="cargarLineasNegocio">
			<result>/notificacion/ajax/comboLineasNegocio.jsp</result>
		</action>
		<action name="cargarPuestosProduccion"
			class="pe.com.pacasmayo.sgcp.presentacion.action.notificacion.NotificacionPlantaAction"
			method="cargarPuestosDeTrabajo">
			<result>/notificacion/ajax/comboPuestosTrabajo.jsp</result>
		</action>
		<action name="cargarProcesos"
			class="pe.com.pacasmayo.sgcp.presentacion.action.notificacion.NotificacionPlantaAction"
			method="cargarProcesos">
			<result>/notificacion/ajax/comboProcesos.jsp</result>
		</action>
		<action name="cargarTablerosControl"
			class="pe.com.pacasmayo.sgcp.presentacion.action.notificacion.NotificacionPlantaAction"
			method="cargarTablerosControl">
			<result>/notificacion/ajax/comboTablerosControl.jsp</result>
		</action>

		<action name="cargarVariablesProdOper"
			class="pe.com.pacasmayo.sgcp.presentacion.action.notificacion.NotificacionPlantaAction"
			method="cargarVariablesProdOper">
			<result>
				/notificacion/ajax/comboVariablesProdOper.jsp
			</result>
		</action>

		<action name="cambiarVistaVariable"
			class="pe.com.pacasmayo.sgcp.presentacion.action.notificacion.NotificacionPlantaAction"
			method="cambiarVistaVariable">
			<result name="VACIO">
				/notificacion/ajax/detalleVariablesOper.jsp
			</result>
			<result name="PRODUCCION">
				/notificacion/ajax/detalleVariablesProd.jsp
			</result>
			<result name="OPERACION">
				/notificacion/ajax/detalleVariablesOper.jsp
			</result>
			<interceptor-ref name="chain" />
			<interceptor-ref name="basicStack" />
		</action>





		

	</package>
	
	
	
	<package name="parteDiario" namespace="/parteDiario" extends="struts-default">

		<interceptors>
			<interceptor name="AutenticacionInterceptor"
				class="pe.com.pacasmayo.sgcp.presentacion.interceptors.AutenticacionInterceptor">
			</interceptor>
			<interceptor-stack name="all-default">
				<interceptor-ref name="AutenticacionInterceptor" />
				<interceptor-ref name="paramsPrepareParamsStack" />
			</interceptor-stack>
		</interceptors>

		<!-- Default interceptor stack. -->
		<default-interceptor-ref name="all-default" />

		<!-- Manejo de acciones globales. -->
		<global-results>
			<result name="error">/comun/errorOperacion.jsp</result>
			<result name="login" type="redirect">/inicio.jsp</result>
		</global-results>

		<!-- Manejo de excepciones globales. -->
		<global-exception-mappings>
			<exception-mapping
				exception="pe.com.pacasmayo.sgcp.presentacion.excepciones.AplicacionGlobalException"
				result="error" />
			<exception-mapping exception="java.lang.Exception"
				result="error" />
			<exception-mapping exception="java.lang.RuntimeException"
				result="error" />
		</global-exception-mappings>

		<action name="consultarParteDiario"
			class="pe.com.pacasmayo.sgcp.presentacion.action.partediario.ParteDiarioAction"
			method="listar">
			<result name="success">
				/parteDiario/consultarParteDiario.jsp
			</result>

			<interceptor-ref name="basicStack" />
			<interceptor-ref name="AutenticacionInterceptor" />
		</action>

		<action name="gestionarParteDiario"
			class="pe.com.pacasmayo.sgcp.presentacion.action.partediario.GestionarParteDiarioAction"
			method="listarGestionPD">
			<result name="success">
				/parteDiario/gestionarParteDiario.jsp
			</result>
			<interceptor-ref name="basicStack" />
			<interceptor-ref name="AutenticacionInterceptor" />
		</action>

		<action name="cargarGestionarParteDiario"
			class="pe.com.pacasmayo.sgcp.presentacion.action.partediario.GestionarParteDiarioAction"
			method="listarGestionPDFiltrados">
			<result name="success">
				/parteDiario/gestionarParteDiario.jsp
			</result>
			<interceptor-ref name="basicStack" />
			<interceptor-ref name="AutenticacionInterceptor" />
		</action>


		<action name="cargarSociedadesGestionarPD"
			class="pe.com.pacasmayo.sgcp.presentacion.action.partediario.GestionarParteDiarioAction"
			method="cargarSociedades">
			<result>/parteDiario/ajax/comboSociedades.jsp</result>
			<interceptor-ref name="basicStack" />
		</action>

		<action name="cargarUnidadesGestionarPD"
			class="pe.com.pacasmayo.sgcp.presentacion.action.partediario.GestionarParteDiarioAction"
			method="cargarUnidades">
			<result>/parteDiario/ajax/comboUnidades.jsp</result>
			<interceptor-ref name="basicStack" />
		</action>

		<action name="cargarLineasNegocioGestionarPD"
			class="pe.com.pacasmayo.sgcp.presentacion.action.partediario.GestionarParteDiarioAction"
			method="cargarLineasNegocio">
			<result>/parteDiario/ajax/comboLineasNegocio.jsp</result>
			<interceptor-ref name="basicStack" />
		</action>

		<action name="cerrarNotificacionPlanta"
			class="pe.com.pacasmayo.sgcp.presentacion.action.partediario.GestionarParteDiarioAction"
			method="cerrar">
			<result name="success">
				/parteDiario/gestionarParteDiario.jsp
			</result>
			<result name="input">
				/parteDiario/gestionarParteDiario.jsp
			</result>

			<interceptor-ref name="chain" />
			<interceptor-ref name="basicStack" />
			<interceptor-ref name="AutenticacionInterceptor" />
		</action>

		<action name="reprocesarNotificacionPlanta"
			class="pe.com.pacasmayo.sgcp.presentacion.action.partediario.GestionarParteDiarioAction"
			method="reprocesar">
			<result name="success" type="redirectAction">
				gestionarParteDiario
			</result>
			<result name="input">
				/parteDiario/gestionarParteDiario.jsp
			</result>
			<interceptor-ref name="chain" />
			<interceptor-ref name="basicStack" />
		</action>

		<action name="abrirNotificacionPlanta"
			class="pe.com.pacasmayo.sgcp.presentacion.action.partediario.GestionarParteDiarioAction"
			method="abrir">
			<result name="success" type="redirectAction">
				gestionarParteDiario
			</result>
			<result name="input">
				/parteDiario/gestionarParteDiario.jsp
			</result>
			<interceptor-ref name="chain" />
			<interceptor-ref name="basicStack" />
		</action>
		<action name="eliminarPorPuestoTrabajoNotificacion"
			class="pe.com.pacasmayo.sgcp.presentacion.action.partediario.GestionarParteDiarioAction"
			method="formularoEliminarPorPuestotrabajo">
			<result name="success">
				/parteDiario/eliminarParteDiarioPorPuestoTrabajo.jsp
			</result>
			<result name="input">
				/parteDiario/eliminarParteDiarioPorPuestoTrabajo.jsp
			</result>
			<interceptor-ref name="chain" />
			<interceptor-ref name="basicStack" />
		</action>

		<action name="filtrarParteDiarioPorPuestoTrabajo"
			class="pe.com.pacasmayo.sgcp.presentacion.action.partediario.GestionarParteDiarioAction"
			method="filtrarParteDiarioPorPuestoTrabajo">
			<result name="success">
				/parteDiario/eliminarParteDiarioPorPuestoTrabajo.jsp
			</result>
			<result name="input">
				/parteDiario/eliminarParteDiarioPorPuestoTrabajo.jsp
			</result>
			<interceptor-ref name="chain" />
			<interceptor-ref name="basicStack" />
		</action>

<!-- 		<action name="eliminarNotificacionPlantaPorPuestotrabajo" -->
<!-- 			class="pe.com.pacasmayo.sgcp.presentacion.action.partediario.GestionarParteDiarioAction" -->
<!-- 			method="eliminarNotificacionPlantaPorPuestotrabajo"> -->
<!-- 			<result name="success" type="redirectAction"> -->
<!-- 				eliminarPorPuestoTrabajoNotificacion -->
<!-- 			</result> -->
<!-- 			<result name="input"> -->
<!-- 				/parteDiario/eliminarParteDiarioPorPuestoTrabajo.jsp -->
<!-- 			</result> -->
<!-- 			<interceptor-ref name="chain" /> -->
<!-- 			<interceptor-ref name="basicStack" /> -->
<!-- 		</action> -->


<!-- 		<action name="enviarReporteProduccionDiaria" -->
<!-- 			class="pe.com.pacasmayo.sgcp.presentacion.action.partediario.GestionarParteDiarioAction" -->
<!-- 			method="enviarCorreo"> -->
<!-- 			<result name="success" type="redirectAction"> -->
<!-- 				gestionarParteDiario -->
<!-- 			</result> -->
<!-- 			<result name="input"> -->
<!-- 				/parteDiario/gestionarParteDiario.jsp -->
<!-- 			</result> -->
<!-- 			<interceptor-ref name="chain" /> -->
<!-- 			<interceptor-ref name="basicStack" /> -->
<!-- 		</action> -->


	</package>

</struts>